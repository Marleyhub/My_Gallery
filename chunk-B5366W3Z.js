import{b as I,c as N,d as T,e as k,f as A,g as D,h as L,i as V,j as q,k as M}from"./chunk-SHD7OFS6.js";import{b as E}from"./chunk-AVVV5EUU.js";import{a as z}from"./chunk-QBS4WXJK.js";import{$ as h,Ca as _,Cb as S,Db as x,Ga as d,Hb as F,Jb as R,Qa as l,Ra as r,Sa as n,Ta as p,Xa as P,Ya as O,_ as v,_a as C,eb as g,hb as a,ib as y,jb as w,ta as s,wa as u}from"./chunk-N4RQP4AS.js";function G(t,i){t&1&&(r(0,"small"),a(1,"Email is required."),n())}function Y(t,i){t&1&&(r(0,"small"),a(1,"Enter a valid email."),n())}function B(t,i){if(t&1&&(r(0,"div",16),d(1,G,2,0,"small",17)(2,Y,2,0,"small",17),n()),t&2){C();let e=g(8);s(),l("ngIf",e.errors==null?null:e.errors.required),s(),l("ngIf",e.errors==null?null:e.errors.email)}}function J(t,i){t&1&&(r(0,"small"),a(1,"Password is required."),n())}function K(t,i){t&1&&(r(0,"small"),a(1,"Password must be at least 6 characters."),n())}function Q(t,i){if(t&1&&(r(0,"div",16),d(1,J,2,0,"small",17)(2,K,2,0,"small",17),n()),t&2){C();let e=g(14);s(),l("ngIf",e.errors==null?null:e.errors.required),s(),l("ngIf",e.errors==null?null:e.errors.minlength)}}function W(t,i){if(t&1&&(r(0,"p",18),a(1),n()),t&2){let e=C();s(),y(e.message)}}var b=class t{constructor(i,e,m){this.http=i;this.router=e;this.authService=m}isLoading=!1;message="";apiUrl="https://my-gallery-fe8414be2560.herokuapp.com/users";onRegister(i){if(i.invalid)return;let{email:e,password:m}=i.value;this.isLoading=!0,this.message="",this.http.post(this.apiUrl,{email:e,password:m}).subscribe({next:o=>{console.log("Server response:",o),o.token&&o.user&&this.authService.setAuthData(o.user,o.token),this.isLoading=!1,this.message=o.message||"User created successfully!",setTimeout(()=>{this.router.navigate(["/login"])},2e3)},error:o=>{console.error("\u274C Error:",o),this.isLoading=!1,o.status===400?this.message="Invalid data. Please check your input.":o.status===409?this.message="User already exists.":this.message="Failed to register. Please try again."}})}static \u0275fac=function(e){return new(e||t)(u(F),u(E),u(z))};static \u0275cmp=_({type:t,selectors:[["app-register-form"]],decls:24,vars:5,consts:[["registerForm","ngForm"],["emailModel","ngModel"],["pwdModel","ngModel"],["novalidate","",1,"register-form",3,"ngSubmit"],[1,"register__title"],[1,"field"],["for","email"],["id","email","name","email","type","email","required","","email","","ngModel","","placeholder","you@example.com","autocomplete","email"],["class","field__error",4,"ngIf"],["for","password"],["id","password","name","password","type","password","required","","minlength","6","ngModel","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","new-password"],[1,"actions"],["type","submit",1,"btn",3,"disabled"],[1,"register__alt"],["routerLink","/login"],["class","message",4,"ngIf"],[1,"field__error"],[4,"ngIf"],[1,"message"]],template:function(e,m){if(e&1){let o=P();r(0,"form",3,0),O("ngSubmit",function(){v(o);let c=g(1);return h(m.onRegister(c))}),r(2,"h2",4),a(3,"Create Account"),n(),r(4,"div",5)(5,"label",6),a(6,"Email"),n(),p(7,"input",7,1),d(9,B,3,2,"div",8),n(),r(10,"div",5)(11,"label",9),a(12,"Password"),n(),p(13,"input",10,2),d(15,Q,3,2,"div",8),n(),r(16,"div",11)(17,"button",12),a(18),n()(),r(19,"p",13),a(20," Already have an account? "),r(21,"a",14),a(22,"Sign in"),n()(),d(23,W,2,1,"p",15),n()}if(e&2){let o=g(1),f=g(8),c=g(14);s(9),l("ngIf",f.invalid&&(f.dirty||f.touched)),s(6),l("ngIf",c.invalid&&(c.dirty||c.touched)),s(2),l("disabled",o.invalid||m.isLoading),s(),w(" ",m.isLoading?"Registering...":"Create Account"," "),s(5),l("ngIf",m.message)}},dependencies:[x,S,M,D,I,N,T,L,q,V,A,k,R],styles:[".register-form[_ngcontent-%COMP%]{max-width:450px;margin:48px auto;padding:80px 100px;background:#fff;border-radius:20px;box-shadow:0 6px 20px #0f172a0f;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}.register-form__title[_ngcontent-%COMP%]{margin:0 0 18px;font-size:1.5rem;color:#0f172a;text-align:center;font-weight:600}.register-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:28px}.register-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#000;margin-bottom:6px}.register-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:8px;border:1px solid rgba(3,4,7,.08);font-size:.95rem;outline:none;transition:box-shadow .15s ease,border-color .15s ease}.register-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #3bb5f614;border-color:#3bb5f6}.register-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#666}.register-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .field__error[_ngcontent-%COMP%]{margin-top:6px}.register-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .field__error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#dc2626;font-size:.78rem}.register-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}.register-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#3bb5f6;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;box-shadow:0 6px 14px #3b82f62e;transition:transform .15s ease,box-shadow .2s ease}.register-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 16px #3b82f640}.register-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}.register-form__alt[_ngcontent-%COMP%]{margin-top:20px;text-align:center;color:#000;font-size:.9rem}.register-form__alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3bb5f6;text-decoration:none;font-weight:600}.register-form__alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.message[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;color:#2b9348;font-weight:500}body[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f9f9f9,#d0c8c8);padding:24px}"]})};var H=class t{onSubmit(i){i.valid?console.log("Form submitted!",i.value):console.log("Form invalid")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"register-page"]],template:function(e,m){e&1&&(r(0,"section",0),p(1,"app-register-form"),n())},dependencies:[M,x,b],encapsulation:2})};export{H as RegisterPageComponent};
