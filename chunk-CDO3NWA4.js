import{a as k,b as E,c as I,d as N,e as R,f as D,g as T,h as V,i as q,j as A,k as b}from"./chunk-SHD7OFS6.js";import{b as S,c as F,e as L}from"./chunk-AVVV5EUU.js";import{a as z}from"./chunk-QBS4WXJK.js";import{$ as P,Ca as u,Cb as y,Db as _,Ga as g,Hb as w,Qa as m,Ra as o,Sa as i,Ta as d,Xa as h,Ya as O,_ as v,_a as M,eb as c,hb as r,ta as a,wa as f}from"./chunk-N4RQP4AS.js";function U(n,t){n&1&&(o(0,"small"),r(1,"Email is required."),i())}function B(n,t){n&1&&(o(0,"small"),r(1,"Enter a valid email."),i())}function J(n,t){if(n&1&&(o(0,"div",17),g(1,U,2,0,"small",18)(2,B,2,0,"small",18),i()),n&2){M();let e=c(8);a(),m("ngIf",e.errors==null?null:e.errors.required),a(),m("ngIf",e.errors==null?null:e.errors.email)}}function K(n,t){n&1&&(o(0,"small"),r(1,"Password is required."),i())}function Q(n,t){n&1&&(o(0,"small"),r(1,"Password must be at least 6 characters."),i())}function W(n,t){if(n&1&&(o(0,"div",17),g(1,K,2,0,"small",18)(2,Q,2,0,"small",18),i()),n&2){M();let e=c(14);a(),m("ngIf",e.errors==null?null:e.errors.required),a(),m("ngIf",e.errors==null?null:e.errors.minlength)}}var C=class n{constructor(t,e,l){this.http=t;this.router=e;this.authService=l}images=[];onSubmit(t){if(console.log(t.value),t.valid){let e={email:t.value.email,password:t.value.password};this.http.post("http://localhost:8080/auth/login",e).subscribe({next:l=>{console.log("Login success",l),this.authService.setAuthData(l.user,l.token),this.router.navigate(["/gallery"])},error:l=>{console.error("Login failed:",l),alert("Login failed. Please check your email or password.")}})}else console.log("Form invalid")}static \u0275fac=function(e){return new(e||n)(f(w),f(S),f(z))};static \u0275cmp=u({type:n,selectors:[["app-login-form"]],decls:27,vars:3,consts:[["loginForm","ngForm"],["emailModel","ngModel"],["pwdModel","ngModel"],["novalidate","",1,"login-form",3,"ngSubmit"],[1,"login__title"],[1,"field"],["for","email",1,"field__label"],["id","email","name","email","type","email","required","","email","","ngModel","","autocomplete","username","placeholder","you@example.com",1,"field__input"],["class","field__error",4,"ngIf"],["for","password",1,"field__label"],["id","password","name","password","type","password","required","","minlength","6","ngModel","","autocomplete","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"field__input"],[1,"actions"],[1,"remember"],["type","checkbox","name","remember","ngModel",""],["type","submit",1,"btn",3,"disabled"],[1,"login__alt"],["routerLink","/register"],[1,"field__error"],[4,"ngIf"]],template:function(e,l){if(e&1){let x=h();o(0,"form",3,0),O("ngSubmit",function(){v(x);let s=c(1);return P(l.onSubmit(s))}),o(2,"h2",4),r(3,"Sign in"),i(),o(4,"div",5)(5,"label",6),r(6,"Email"),i(),d(7,"input",7,1),g(9,J,3,2,"div",8),i(),o(10,"div",5)(11,"label",9),r(12,"Password"),i(),d(13,"input",10,2),g(15,W,3,2,"div",8),i(),o(16,"div",11)(17,"label",12),d(18,"input",13),o(19,"span"),r(20,"Remember me"),i()(),o(21,"button",14),r(22,"Sign in"),i()(),o(23,"p",15),r(24,"Don't have an account? "),o(25,"a",16),r(26,"Register"),i()()()}if(e&2){let x=c(1),p=c(8),s=c(14);a(9),m("ngIf",p.invalid&&(p.dirty||p.touched)),a(6),m("ngIf",s.invalid&&(s.dirty||s.touched)),a(6),m("disabled",x.invalid)}},dependencies:[b,T,E,k,I,N,V,A,q,D,R,_,y,L,F],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:48px auto;padding:50px;background:#ffffff14;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 20px #0006;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}.login-form__title[_ngcontent-%COMP%]{margin:0 0 18px;font-size:1.25rem;color:#fff;text-align:center}.login-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:30px}.login-form[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#3d3535;margin-bottom:6px}.login-form[_ngcontent-%COMP%]   .field__input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,.15);background:#ffffff0d;color:#fff;font-size:.95rem;outline:black;transition:box-shadow .15s ease,border-color .15s ease}.login-form[_ngcontent-%COMP%]   .field__input[_ngcontent-%COMP%]:focus{border-color:#ff4d67;box-shadow:0 0 0 4px #ff4d6740}.login-form[_ngcontent-%COMP%]   .field__input[_ngcontent-%COMP%]::placeholder{color:#fff}.login-form[_ngcontent-%COMP%]   .field__error[_ngcontent-%COMP%]{margin-top:6px}.login-form[_ngcontent-%COMP%]   .field__error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ff1a3b;font-size:.78rem}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:6px}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .remember[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#3d3535;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:14px;height:14px;accent-color:#ff4d67}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#ff4d67;color:#fff;border:none;padding:9px 14px;border-radius:8px;font-weight:600;cursor:pointer;transition:.3s ease-in-out;box-shadow:0 4px 12px #ff4d6740}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:#ff1a3b}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.97)}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}.login-form__alt[_ngcontent-%COMP%]{margin-top:16px;text-align:center;color:#fff;font-size:.9rem}.login-form__alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff4d67;text-decoration:none;font-weight:600}.login-form__alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}body[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e1e2f,#3a3a56);padding:24px}"]})};var j=class n{onSubmit(t){t.valid?console.log("Form submitted!",t.value):console.log("Form invalid")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"login-page"]],template:function(e,l){e&1&&(o(0,"section",0),d(1,"app-login-form"),i())},dependencies:[b,_,C],styles:[".login-page[_ngcontent-%COMP%]{padding:16px}.error-fallback[_ngcontent-%COMP%]{padding:24px;background:#ffebee;border:1px solid #ffcdd2;border-radius:8px;color:#b71c1c}"]})};export{j as LoginPage};
