import{a as F,b as E,c as L,d as I,e as N,f as k,g as D,h as T,i as V,j as q,k as b}from"./chunk-FTWJOTIU.js";import{b as w}from"./chunk-SXWNCT2F.js";import{a as A}from"./chunk-EB62STNB.js";import{d as y,e as _,h as S}from"./chunk-L5ER6TM7.js";import{Ea as a,Ja as f,Na as u,Ra as g,Z as v,_ as P,ab as m,bb as o,cb as i,db as c,hb as h,ib as O,jb as M,pb as s,sb as r}from"./chunk-HZNXWGXW.js";function H(t,n){t&1&&(o(0,"small"),r(1,"Email is required."),i())}function G(t,n){t&1&&(o(0,"small"),r(1,"Enter a valid email."),i())}function U(t,n){if(t&1&&(o(0,"div",17),g(1,H,2,0,"small",18)(2,G,2,0,"small",18),i()),t&2){M();let e=s(8);a(),m("ngIf",e.errors==null?null:e.errors.required),a(),m("ngIf",e.errors==null?null:e.errors.email)}}function B(t,n){t&1&&(o(0,"small"),r(1,"Password is required."),i())}function J(t,n){t&1&&(o(0,"small"),r(1,"Password must be at least 6 characters."),i())}function K(t,n){if(t&1&&(o(0,"div",17),g(1,B,2,0,"small",18)(2,J,2,0,"small",18),i()),t&2){M();let e=s(14);a(),m("ngIf",e.errors==null?null:e.errors.required),a(),m("ngIf",e.errors==null?null:e.errors.minlength)}}var x=class t{constructor(n,e,l){this.http=n;this.router=e;this.authService=l}images=[];onSubmit(n){if(console.log(n.value),n.valid){let e={email:n.value.email,password:n.value.password};this.http.post("http://localhost:8080/auth/login",e).subscribe({next:l=>{console.log("Login success",l),this.authService.setAuthData(l.user,l.token),this.router.navigate(["/gallery"])},error:l=>{console.error("Login failed:",l),alert("Login failed. Please check your email or password.")}})}else console.log("Form invalid")}static \u0275fac=function(e){return new(e||t)(f(S),f(w),f(A))};static \u0275cmp=u({type:t,selectors:[["app-login-form"]],decls:27,vars:3,consts:[["loginForm","ngForm"],["emailModel","ngModel"],["pwdModel","ngModel"],["novalidate","",1,"login-form",3,"ngSubmit"],[1,"login__title"],[1,"field"],["for","email",1,"field__label"],["id","email","name","email","type","email","required","","email","","ngModel","","autocomplete","username","placeholder","you@example.com",1,"field__input"],["class","field__error",4,"ngIf"],["for","password",1,"field__label"],["id","password","name","password","type","password","required","","minlength","6","ngModel","","autocomplete","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"field__input"],[1,"actions"],[1,"remember"],["type","checkbox","name","remember","ngModel",""],["type","submit",1,"btn",3,"disabled"],[1,"login__alt"],["href","/register","routerLink","/register"],[1,"field__error"],[4,"ngIf"]],template:function(e,l){if(e&1){let C=h();o(0,"form",3,0),O("ngSubmit",function(){v(C);let d=s(1);return P(l.onSubmit(d))}),o(2,"h2",4),r(3,"Sign in"),i(),o(4,"div",5)(5,"label",6),r(6,"Email"),i(),c(7,"input",7,1),g(9,U,3,2,"div",8),i(),o(10,"div",5)(11,"label",9),r(12,"Password"),i(),c(13,"input",10,2),g(15,K,3,2,"div",8),i(),o(16,"div",11)(17,"label",12),c(18,"input",13),o(19,"span"),r(20,"Remember me"),i()(),o(21,"button",14),r(22,"Sign in"),i()(),o(23,"p",15),r(24,"Don't have an account? "),o(25,"a",16),r(26,"Register"),i()()()}if(e&2){let C=s(1),p=s(8),d=s(14);a(9),m("ngIf",p.invalid&&(p.dirty||p.touched)),a(6),m("ngIf",d.invalid&&(d.dirty||d.touched)),a(6),m("disabled",C.invalid)}},dependencies:[b,D,E,F,L,I,T,q,V,k,N,_,y],styles:[".login-form[_ngcontent-%COMP%]{max-width:450px;margin:48px auto;padding:100px;background:#fff;border-radius:20px;box-shadow:0 6px 20px #0f172a0f;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}.login-form__title[_ngcontent-%COMP%]{margin:0 0 18px;font-size:1.25rem;color:#0f172a;text-align:center}.login-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:30px}.login-form[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#000;margin-bottom:6px}.login-form[_ngcontent-%COMP%]   .field__input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:8px;border:1px solid rgba(3,4,7,.08);font-size:.95rem;outline:none;transition:box-shadow .15s ease,border-color .15s ease}.login-form[_ngcontent-%COMP%]   .field__input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #3bb5f614;border-color:#3bb5f6}.login-form[_ngcontent-%COMP%]   .field__input[_ngcontent-%COMP%]::placeholder{color:#666}.login-form[_ngcontent-%COMP%]   .field__error[_ngcontent-%COMP%]{margin-top:6px}.login-form[_ngcontent-%COMP%]   .field__error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#dc2626;font-size:.78rem}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:6px}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .remember[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#000;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:14px;height:14px}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#3bb5f6;color:#fff;border:none;padding:9px 14px;border-radius:8px;font-weight:600;cursor:pointer;box-shadow:0 6px 14px #3b82f62e}.login-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}.login-form__alt[_ngcontent-%COMP%]{margin-top:16px;text-align:center;color:#000;font-size:.9rem}.login-form__alt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3bb5f6;text-decoration:none;font-weight:600}body[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f9f9f9,#cbb0b0);padding:24px}"]})};var R=class t{onSubmit(n){n.valid?console.log("Form submitted!",n.value):console.log("Form invalid")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"login-page"]],template:function(e,l){e&1&&(o(0,"section",0),c(1,"app-login-form"),i())},dependencies:[b,_,x],styles:[".login-page[_ngcontent-%COMP%]{padding:16px}.error-fallback[_ngcontent-%COMP%]{padding:24px;background:#ffebee;border:1px solid #ffcdd2;border-radius:8px;color:#b71c1c}"]})};export{R as LoginPage};
